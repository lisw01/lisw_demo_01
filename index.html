<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>李双武个人作品-旋转木马轮播图</title>
    <link rel="stylesheet" href="css/css.css"/>
    <link rel="shortcut icon" href="lisw.ico"/>
</head>
<body>
<div class="wrap" id="wrap">
    <div class="slide" id="slide">
        <ul>
            <li><a href="#"><img src="images/slidepic1.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic2.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic3.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic4.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic5.jpg" alt=""/></a></li>
        </ul>
        <div class="arrow" id="arrow">
            <a href="javascript:;" class="prev"></a>
            <a href="javascript:;" class="next"></a>
        </div>
    </div>
</div>
</body>
</html>
<script src="js/myjs.js"></script>
<script>
    var bigBox = $id("wrap");
    var triangle = $id("arrow");
    var tl = triangle.children[0];
    var tr = triangle.children[1];
    var slider = $id("slide");
    var lis = slider.getElementsByTagName("li");


    bigBox.onmouseover = function () {
        aniMy(triangle, {"opacity": 0.4});
    };
    bigBox.onmouseout = function () {
        aniMy(triangle, {"opacity": 0});
    };
    var json = [
        {   //  1
            width: 400,
            top: 20,
            left: 50,
            opacity: 0.2,
            z: 2
        },
        {  // 2
            width: 600,
            top: 70,
            left: 0,
            opacity: 0.8,
            z: 3
        },
        {   // 3
            width: 800,
            top: 0,
            left: 200,
            opacity: 1,
            z: 4
        },
        {  // 4
            width: 600,
            top: 70,
            left: 600,
            opacity: 0.8,
            z: 3
        },
        {   //5
            width: 400,
            top: 20,
            left: 750,
            opacity: 0.2,
            z: 2
        }
    ];
    changeGet();
    //断流
    var duanliu = true;
    tl.onclick = function () {
        if (duanliu = true) {
            changeGet(true);
            duanliu = false;
           // console.log(55555);
        }

    };
    tr.onclick = function () {
        if(duanliu = true){
            changeGet(false);
            duanliu = false;
            //console.log(6);
        }

    };

    function changeGet(flag) {
        if (flag) {
            //如果向左就第一干掉的同时添加到第最后面
            json.unshift(json.pop());
        } else {
            //如果向右就最后一干掉的同时添加到最前面
            json.push(json.shift());
        }
        for (var i = 0 ;i<json.length ;i++) {
            aniMy(lis[i],{
                width:json[i].width,
                top:json[i].top,
                left:json[i].left,
                opacity:json[i].opacity,
                zIndex:json[i].z
            },function(){
                duanliu = true;
               // console.log(111);
            });
        }

    }


</script>